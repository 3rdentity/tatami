<div id="mainPanel" class="container">
    <div class="col-span-4" style="margin:20px 5px;padding:0">
        <div class="input-group">
            <input ng-model="search" ng-change="searchUsers()" type="text"
                   placeholder="{{ 'tatami.login.email' | translate }}" autofocus>

            <div class="input-group-btn">
                <button class="btn btn-info" ng-click="searchUsers()">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </div>
        </div>
    </div>
    <div class="col-span-2" style="margin:20px 5px;padding:0">
        <label style="line-height: 34px;margin: 0;cursor: pointer;">
            {{ 'tatami.admin.adminOnly' | translate }}&nbsp;
            <input ng-model="adminOnly" type="checkbox"/>
        </label>
    </div>
    <table id="adminUsers" class="table table-striped">
        <tr>
            <th translate="tatami.admin.avatar" style="width:10%;"></th>
            <th translate="tatami.account.groups.name" style="width:40%;"></th>
            <th translate="tatami.login.email" style="width:40%;"></th>
            <th translate="tatami.account.groups.admin" style="width:10%;"></th>
        </tr>
        <tr ng-repeat="user in users | filter:isAdmin" class="user">
            <td><img class="nomargin avatar img-rounded" ng-src="{{ user.avatarURL }}" height="50"
                     width="50"></td>
            <td><a ui-sref="tatami.home.profile.statuses({ username: user.username })">{{
                user.firstName || ('tatami.home.profile.sidebar.firstName' | translate) }} {{
                user.lastName || ('tatami.home.profile.sidebar.lastName' | translate) }}</a></td>
            <td>{{ user.login }}</td>
            <td style="text-align: center;">
                <button class="btn btn-{{ user.admin ? 'danger' : 'success' }} btn-small" type="button" ng-click="toggleAdmin(user)">{{ user.admin ? ('tatami.admin.demote' | translate) : ('tatami.admin.promote' | translate) }}</button>
            </td>
        </tr>
    </table>
</div>