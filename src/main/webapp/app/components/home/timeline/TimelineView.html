<section class="tatams-content tatams-margin">
    <div>
        <ul class="homebody-nav nav nav-justified">
            <li class="active">
                <a href="#timeline">
                <i class="glyphicon glyphicon-th-list"> </i><span translate="tatami.timeline"></span>
                </a>
            </li>
            <li>
                <a href="#mentions">
                <i class="glyphicon glyphicon-user"> </i><span translate="tatami.mentions"></span>
                </a>
            </li>
            <li>
                <a href="#favorites">
                <i class="glyphicon glyphicon-star"> </i><span translate="tatami.favorites"></span>
                </a>
            </li>
        </ul>
        <section class="tatams-content tatams-margin">
            <div class="tatams-content-title">
                <h3>
                    <!-- Need to change title based on current tab; Routing? -->
                    <!-- Need to make tab class="active" if current tab -->
                    <!-- Replace all hardcoded text with translatable text -->
                    <span translate="tatami.timeline"></span>
                </h3>
            </div>
            <section class="tatams-container">
                <div>
                    <!-- Need to use a service along with the controller in the future? -->
                    <section class="timeline" ng-controller="TimelineController">
                        <div class="tatams" ng-repeat="tatam in tatams">
                            <div style="display: block;" class="tatam pointer discussion tatam-border-lr tatam-hover tatam-id-{{ tatam.statusId }}">
                                <div id="before">
                                </div>
                                <div id="current" ng-mouseenter="showButtonRow=true" ng-mouseleave="showButtonRow=false" ng-class="{ 'favorite' : tatam.favorite, 'share' : tatam.shareByMe }">
                                    <div class="pull-left background-image-fffix statusitem-img">
                                        <div class="img img-rounded img-medium" ng-style="{ 'background-image': tatam.avatar=='' ? 'url(/img/default_image_profile.png)' : 'url(/tatami/avatar/{{ tatam.avatar }}/photo.jpg)' }"></div>
                                    </div>
                                    <div id="status-content-container">
                                        <div class="pull-right text-right">
                                            <abbr title="{{ tatam.statusDate | amDateFormat:'h:mm A - D MMM YYYY'}}" am-time-ago="tatam.statusDate"></abbr>
                                            <!-- Make status abbr month and day display after 24h have passed? -->
                                        </div>
                                        <h5 class="statusitem-name">
                                            <strong><a href="#users/{{ tatam.username }}">{{tatam.firstName + " " + tatam.lastName}}</a></strong>
                                            <small><a href="#users/{{ tatam.username }}">@{{ tatam.username }}</a></small>
                                        </h5>
                                        <div class="markdown" ng-bind-html="tatam.content | markdown"></div>

                                        <small ng-show="tatam.groupId">
                                            <a class="label" ng-class="tatam.publicGroup ? 'label-info' : 'label-warning'" ng-href="#groups/{{ tatam.groupId }}">
                                            {{ tatam.groupName }}
                                            </a>
                                            <br>
                                        </small>

                                        <small ng-show="tatam.statusPrivate">
                                            <span class="glyphicon glyphicon-lock"></span> <span translate="tatami.status.private"></span>
                                            <br>
                                        </small>

                                        <small ng-show="tatam.replyTo">
                                            <span class="glyphicon glyphicon-share-alt"></span> <span translate="tatami.status.replyto"></span> <a ng-href="#status/{{ tatam.replyTo }}">@{{ tatam.replyToUsername }}</a>
                                            <br>
                                        </small>

                                        <small>
                                            <div class="attachments">
                                                <div>
                                                    <span ng-repeat="attachment in tatam.attachments">
                                                    <a href="/tatami/file/{{ attachment.attachmentId }}/{{ attachment.filename }}" class="btn-link status-action" target="_blank">
                                                    <i class="glyphicon glyphicon-file"></i> {{ attachment.filename }}
                                                    </a>
                                                    </span>
                                                </div>
                                            </div>
                                            <div id="share">
                                            </div>
                                        </small>
                                    </div>

                                    <div id="geolocalizationInStatus">
                                    </div>
                                    <div id="preview">
                                    </div>

                                    <div ng-style="{ visibility : showButtonRow ? 'visible' : 'hidden' }" style="display: block;" id="buttons" class="mediumHeight little-marge-top">
                                        <div>
                                            <small class="statusitem-footer"> 
                                            <a href="#status/{{ tatam.statusId }}" class="btn-link status-action button-ios">
                                                <i class="glyphicon glyphicon-eye-open"></i> <span translate="tatami.status.view"></span>
                                            </a>
                                            <button class="btn-link status-action status-action-reply button-ios">
                                                <i class="glyphicon glyphicon-comment"></i> <span translate="tatami.status.reply"></span>
                                            </button>
                                            <button ng-if="tatam.username == profileInfo.username" class="btn-link status-action status-action-delete button-ios">
                                                <i class="glyphicon glyphicon-trash"></i> <span translate="tatami.status.delete"></span>
                                            </button>
                                            <button ng-if="tatam.username != profileInfo.username && !tatam.shareByMe" class="btn-link status-action status-action-share button-ios">
                                                <i class="glyphicon glyphicon-retweet"></i> <span translate="tatami.status.share"></span>
                                            </button>
                                            <button class="btn-link status-action status-action-favorite button-ios">
                                                <i class="glyphicon glyphicon-star"></i> <span translate="tatami.status.favorite"></span>
                                            </button>
                                            </small> 
                                        </div>
                                    </div>
                                </div>
                                <div id="after">
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </section>
        </section>
    </div>
</section>